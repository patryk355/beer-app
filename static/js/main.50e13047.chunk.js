(this["webpackJsonpbeer-app"]=this["webpackJsonpbeer-app"]||[]).push([[0],{33:function(e,n,t){},46:function(e,n,t){"use strict";t.r(n);var r,c=t(1),a=t.n(c),i=t(14),s=t.n(i),o=(t(33),t(8)),l=t(3),u=t(22),b=t(2),j=function(){return Object(b.jsx)("div",{className:"navbar",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsxs)("div",{className:"title",children:[Object(b.jsx)("h1",{children:"BeerApp "}),Object(b.jsx)(u.a,{className:"beer-icon"})]}),Object(b.jsxs)("div",{className:"links",children:[Object(b.jsx)(o.b,{to:"/beer-app",children:"Home"}),Object(b.jsx)(o.b,{to:"/beer-app/favourite",children:"Favourite Beers"})]})]})})},d=t(7),h=t.n(d),m=t(10),f=t(13),p=t(20),x=t(6),v=t(15),O=Object(v.b)({name:"fav",initialState:{favItems:[]},reducers:{uploadFavItems:function(e,n){e.favItems=n.payload.favItems},addToFavItems:function(e,n){e.favItems.push(n.payload.newFavItem)},removeFromFavItems:function(e,n){var t=n.payload.index;e.favItems.splice(t,1)}}}),g=O.actions,w=O,N=function(){var e=Object(x.b)(),n=Object(x.c)((function(e){return e.fav.favItems})),t=Object(c.useState)(null),r=Object(f.a)(t,2),a=r[0],i=r[1],s=Object(c.useState)(""),o=Object(f.a)(s,2),u=o[0],j=o[1],d=Object(l.f)();Object(c.useEffect)((function(){var e=function(){var e=Object(m.a)(h.a.mark((function e(){var n,t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.punkapi.com/v2/beers");case 3:if((n=e.sent).ok){e.next=6;break}return e.abrupt("return",new Error("Something went wrong!"));case 6:return e.next=8,n.json();case 8:t=e.sent,i(t),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var v=function(e){d.push("/beer-app/beers/"+e)},O=u?a.filter((function(e){return e.name.toLowerCase().includes(u)})):a;return Object(b.jsx)("div",{className:"beers",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("div",{className:"search",children:Object(b.jsx)("input",{type:"text",className:"search-input",placeholder:"Search...",onChange:function(e){j(e.target.value.toLowerCase())},value:u})}),Object(b.jsx)("div",{className:"beers-container",children:O&&O.map((function(t){var r=t.id,c=t.name,i=t.description,s=t.image_url;return Object(b.jsxs)("div",{className:"beer",children:[Object(b.jsx)("img",{className:"beer-img",src:s,alt:c,onClick:function(){return v(r)}}),Object(b.jsx)("div",{className:"icon","data-value":r,children:-1!==n.findIndex((function(e){return e.id===r}))?Object(b.jsx)(p.a,{onClick:function(){return function(t){var r=n.findIndex((function(e){return e.id===t}));e(g.removeFromFavItems({index:r}))}(r)}}):Object(b.jsx)(p.b,{onClick:function(){return function(n){var t=a.findIndex((function(e){return e.id===n}));e(g.addToFavItems({newFavItem:a[t]}))}(r)}})}),Object(b.jsx)("h3",{className:"beer-name",onClick:function(){return v(r)},children:c}),Object(b.jsxs)("p",{className:"beer-description",onClick:function(){return v(r)},children:[i.split("",100),"..."]})]},r)}))})]})})},k=function(){var e=Object(c.useState)(null),n=Object(f.a)(e,2),t=n[0],r=n[1],a=Object(l.g)().id;return Object(c.useEffect)((function(){fetch("https://api.punkapi.com/v2/beers/"+a).then((function(e){return e.json()})).then((function(e){return r(e[0])})).catch((function(e){return console.log(e)}))}),[a]),Object(b.jsx)("div",{className:"container",children:t&&Object(b.jsxs)("div",{className:"beer-details",children:[Object(b.jsx)("h2",{className:"beer-name",children:t.name}),Object(b.jsx)("img",{src:t.image_url,alt:t.name,className:"beer-img"}),Object(b.jsxs)("p",{className:"beer-tagline",children:['"',t.tagline,'"']}),Object(b.jsx)("p",{className:"beer-description",children:t.description}),Object(b.jsxs)("p",{className:"beer-tips",children:[Object(b.jsx)("b",{children:"Brewer's tips:"})," ",t.brewers_tips]}),Object(b.jsxs)("p",{className:"beer-author",children:[Object(b.jsx)("b",{children:"Contributed by:"})," ",t.contributed_by]}),Object(b.jsx)("p",{className:"beer-food",children:"Food Pairing:"}),Object(b.jsx)("ul",{children:t.food_pairing.map((function(e){return Object(b.jsx)("li",{children:e},a)}))}),Object(b.jsxs)("p",{className:"beer-date",children:["First brewed in ",t.first_brewed]})]})})},y=function(){return Object(b.jsx)("div",{className:"footer",children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("p",{children:"Page created by Patryk Karasi\u0144ski \xa9 2021  "}),Object(b.jsx)("a",{href:"https://github.com/patryk355",children:"My Github"})]})})},I=function(){return Object(b.jsx)("div",{children:Object(b.jsx)("h3",{children:"The page with the given URL does not exist."})})},F=t(24),C=t(25).a.div(r||(r=Object(F.a)(["\nwidth: 100%;\nmargin: 0 auto;\ntext-align: center;\nmin-height: 100vh;\n\nh2 {\n    margin-bottom: 1rem;\n    font-size: 2rem;\n}\n\np {\n    font-size: 1.2rem;\n    margin-bottom: 1.5rem;\n}\n\n.no-favourite {\n    height: 20rem;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    font-size: 2rem;\n}\n\n.no-favourite h3 {\n    margin-bottom: 1rem;\n}\n\n.link {\n    color: #7FFFD4;\n    font-size: 1.5rem\n}\n\nul {\n    list-style-type: none;\n    padding: 0;\n    margin: 0;\n}\n\nli {\n    width: 80%;\n    height: 15rem;\n    margin: 1rem auto;\n    border: 1px solid #ccc;\n    border-radius: 5px;\n    padding: 1rem;\n    display: flex;\n    flex-direction: column;\n}\n\nli:hover {\n    border-color: #fff;\n}\n\n.link-to-beer  {\n    width: 100%;\n    cursor: pointer;\n}\n\nli img {\n    width: 10%;\n    max-height: 15rem;\n}\n\n@media (min-width: 480px) {\n    li img {\n        height: 60%;\n    }\n}\n\n@media (min-width: 576px) {\n    li img {\n        height: 50%;\n    }\n}\n\n@media (min-width: 768px) {\n    li {\n        width: 60%;\n    }\n}\n\n@media (min-width: 992px) {\n    li {\n        width: 40%;\n    }\n    li img {\n        height: 50%;  \n    }\n}\n"]))),S=function(){var e=Object(x.c)((function(e){return e.fav.favItems})),n=0===e.length?Object(b.jsxs)("div",{className:"no-favourite",children:[Object(b.jsx)("h3",{children:"You don't have any favourite beers"}),Object(b.jsxs)("p",{children:["Go to ",Object(b.jsx)(o.b,{to:"/beer-app",className:"link",children:"Home"})]})]}):Object(b.jsxs)("p",{children:["Amount: ",e.length]});return Object(b.jsxs)(C,{children:[Object(b.jsx)("h2",{children:"Your Favourite Beers"}),n,Object(b.jsx)("ul",{children:e.map((function(e){var n=e.id,t=e.name,r=e.image_url;return Object(b.jsx)("li",{children:Object(b.jsxs)(o.b,{to:"/beer-app/beers/"+n,className:"link-to-beer",children:[Object(b.jsx)("h2",{className:"beer-name",children:t}),Object(b.jsx)("img",{src:r,alt:t,className:"beer-img"})]})},n)}))})]})};var E=function(){var e=Object(x.b)(),n=Object(x.c)((function(e){return e.fav.favItems}));return Object(c.useEffect)((function(){e(function(e){return function(){var n=Object(m.a)(h.a.mark((function n(t){var r;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=function(){var n=Object(m.a)(h.a.mark((function n(){return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://beer-app-4cb9c-default-rtdb.firebaseio.com/favItems.json",{method:"PUT",body:JSON.stringify(e)});case 2:if(n.sent.ok){n.next=5;break}throw new Error("Something went wrong!");case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),n.prev=1,n.next=4,r();case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(1),console.log(n.t0);case 9:case"end":return n.stop()}}),n,null,[[1,6]])})));return function(e){return n.apply(this,arguments)}}()}(n))}),[n,e]),Object(c.useEffect)((function(){e(function(){var e=Object(m.a)(h.a.mark((function e(n){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(){var e=Object(m.a)(h.a.mark((function e(){var t,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://beer-app-4cb9c-default-rtdb.firebaseio.com/favItems.json");case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Something went wrong!");case 5:return e.next=7,t.json();case 7:r=e.sent,console.log(r),n(g.uploadFavItems({favItems:r||[]}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.prev=1,e.next=4,t();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(n){return e.apply(this,arguments)}}())}),[e]),Object(b.jsx)(o.a,{children:Object(b.jsxs)("div",{className:"app",children:[Object(b.jsx)(j,{}),Object(b.jsxs)(l.c,{children:[Object(b.jsx)(l.a,{exact:!0,path:"/beer-app",children:Object(b.jsx)(N,{})}),Object(b.jsx)(l.a,{path:"/beer-app/beers/:id",children:Object(b.jsx)(k,{})}),Object(b.jsx)(l.a,{path:"/beer-app/favourite",children:Object(b.jsx)(S,{})}),Object(b.jsx)(l.a,{path:"*",children:Object(b.jsx)(I,{})})]}),Object(b.jsx)(y,{})]})})},_=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,47)).then((function(n){var t=n.getCLS,r=n.getFID,c=n.getFCP,a=n.getLCP,i=n.getTTFB;t(e),r(e),c(e),a(e),i(e)}))},B=Object(v.a)({reducer:{fav:w.reducer}});s.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(x.a,{store:B,children:Object(b.jsx)(E,{})})}),document.getElementById("root")),_()}},[[46,1,2]]]);
//# sourceMappingURL=main.50e13047.chunk.js.map